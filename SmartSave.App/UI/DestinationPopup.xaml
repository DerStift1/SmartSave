<Window x:Class="SmartSave.App.UI.DestinationPopup"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False"
        Topmost="True"
        ResizeMode="NoResize"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="Manual"
        Loaded="OnLoaded"
        KeyDown="OnKeyDown">
    <Window.Resources>
        <Style x:Key="OptionButtonStyle" TargetType="Button">
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="Background" Value="#FFF7F3EA" />
            <Setter Property="BorderBrush" Value="#FFD6C7AE" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="10,6" />
            <Setter Property="Margin" Value="0,0,0,6" />
        </Style>
    </Window.Resources>
    <Border Width="360" Padding="12" CornerRadius="10" Background="#FFFDF7EE" BorderBrush="#FFD8C9AF" BorderThickness="1">
        <Border.Effect>
            <DropShadowEffect BlurRadius="16" ShadowDepth="2" Opacity="0.25" />
        </Border.Effect>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="0">
                <TextBlock Text="Move download to" FontWeight="SemiBold" />
                <TextBlock x:Name="FileNameText"
                           FontWeight="Bold"
                           Margin="0,4,0,0"
                           TextTrimming="CharacterEllipsis" />
            </StackPanel>
            <ItemsControl Grid.Row="1" x:Name="OptionsList" Margin="0,8,0,6">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Style="{StaticResource OptionButtonStyle}" Click="OptionClick" Tag="{Binding}">
                            <StackPanel>
                                <TextBlock Text="{Binding DisplayName}" FontWeight="SemiBold" />
                                <TextBlock Text="{Binding DetailsText}"
                                           FontSize="11"
                                           Foreground="#5B4B3F"
                                           TextTrimming="CharacterEllipsis" />
                            </StackPanel>
                        </Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Later" Padding="10,4" Click="LaterClick" />
            </StackPanel>
        </Grid>
    </Border>
</Window>
